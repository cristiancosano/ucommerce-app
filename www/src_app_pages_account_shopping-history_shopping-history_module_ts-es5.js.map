{"version":3,"sources":["webpack:///src/app/components/order-card/order-card.component.ts","webpack:///src/app/components/order-card/order-card.module.ts","webpack:///src/app/pages/account/shopping-history/shopping-history-routing.module.ts","webpack:///src/app/pages/account/shopping-history/shopping-history.module.ts","webpack:///src/app/pages/account/shopping-history/shopping-history.page.ts","webpack:///src/app/services/order/order.service.ts","webpack:///src/app/components/order-card/order-card.component.scss","webpack:///src/app/pages/account/shopping-history/shopping-history.page.scss","webpack:///src/app/components/order-card/order-card.component.html","webpack:///src/app/pages/account/shopping-history/shopping-history.page.html"],"names":["OrderCardComponent","Input","Component","selector","template","OrderCardComponentModule","NgModule","imports","CommonModule","FormsModule","IonicModule","RouterModule","declarations","exports","providers","routes","path","component","ShoppingHistoryPage","loadChildren","then","m","OrderHistoryPageModule","ShoppingHistoryPageRoutingModule","ShoppingHistoryPageModule","orderService","getOrders","console","log","data","orders","OrderService","http","userService","host","environment","host2","Promise","resolve","token","getToken","decodedToken","getDecodedToken","customerId","params","HttpParams","appendAll","headers","HttpHeaders","set","get","subscribe","error","orderId","HttpClient","UserService","Injectable","providedIn"],"mappings":"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","file":"src_app_pages_account_shopping-history_shopping-history_module_ts-es5.js","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-order-card',\r\n  templateUrl: './order-card.component.html',\r\n  styleUrls: ['./order-card.component.scss'],\r\n})\r\nexport class OrderCardComponent implements OnInit {\r\n  @Input() id: any;\r\n  @Input() total: any;\r\n  @Input() createdAt: any;\r\n  @Input() updatedAt: any;\r\n  \r\n  constructor() { }\r\n\r\n  ngOnInit() {}\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { OrderCardComponent } from './order-card.component';\r\nimport { RouterModule } from '@angular/router';\r\n\r\n\r\n@NgModule({\r\n  imports: [ CommonModule, FormsModule, IonicModule, RouterModule],\r\n  declarations: [OrderCardComponent],\r\n  exports: [OrderCardComponent],\r\n  providers: []\r\n})\r\nexport class OrderCardComponentModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ShoppingHistoryPage } from './shopping-history.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ShoppingHistoryPage\r\n  },\r\n  {\r\n    path: ':id',\r\n    loadChildren: () => import('./order-history/order-history.module').then( m => m.OrderHistoryPageModule)\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ShoppingHistoryPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ShoppingHistoryPageRoutingModule } from './shopping-history-routing.module';\r\n\r\nimport { ShoppingHistoryPage } from './shopping-history.page';\r\nimport { OrderCardComponentModule } from 'src/app/components/order-card/order-card.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ShoppingHistoryPageRoutingModule,\r\n    OrderCardComponentModule\r\n  ],\r\n  declarations: [ShoppingHistoryPage]\r\n})\r\nexport class ShoppingHistoryPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Order } from 'src/app/interfaces/Order';\r\nimport { OrderService } from 'src/app/services/order/order.service';\r\n@Component({\r\n  selector: 'app-shopping-history',\r\n  templateUrl: './shopping-history.page.html',\r\n  styleUrls: ['./shopping-history.page.scss'],\r\n})\r\nexport class ShoppingHistoryPage implements OnInit {\r\n\r\n  private orders: Array<Order>;\r\n  constructor(private orderService: OrderService) { }\r\n\r\n  ngOnInit() {\r\n    this.getOrders()\r\n  }\r\n\r\n  getOrders = () => {\r\n    console.log(\"hola\")\r\n    this.orderService.getOrders().then((data: Array<Order>) => {\r\n      this.orders = data\r\n      console.log(data)\r\n    })\r\n  }\r\n\r\n}\r\n","import { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { UserService } from '../user/user.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OrderService {\r\n  private host = environment.apiHost + '/users'\r\n  private host2 = environment.apiHost + '/orders'\r\n\r\n  constructor(private http: HttpClient, private userService: UserService) { }\r\n\r\n\r\n\r\n\r\n  getOrders(){\r\n    return new Promise(resolve => {\r\n        \r\n        const token = this.userService.getToken();\r\n        const decodedToken= this.userService.getDecodedToken()\r\n        const customerId = decodedToken.customerId\r\n        const params = new HttpParams().appendAll({token})\r\n        console.log(token)\r\n        console.log(this.host)\r\n        const headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded');\r\n        this.http.get(this.host+`/${customerId}/shopping-history`, {headers, params}).subscribe(data => resolve(data), error => console.log(error))\r\n    })\r\n  }\r\n\r\n  getOrderById(orderId: number){\r\n    return new Promise(resolve => {\r\n        const token = this.userService.getToken();\r\n        const params = new HttpParams().appendAll({token})\r\n        console.log(token)\r\n        console.log(this.host)\r\n        const headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded');\r\n        this.http.get(this.host2+`/${orderId}`, {headers, params}).subscribe(data => resolve(data), error => console.log(error))\r\n    })\r\n  }\r\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvcmRlci1jYXJkLmNvbXBvbmVudC5zY3NzIn0= */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzaG9wcGluZy1oaXN0b3J5LnBhZ2Uuc2NzcyJ9 */\";","export default \"<ion-item  [routerLink]=\\\"['/account/shopping-history', id]\\\">\\r\\n  <ion-thumbnail slot=\\\"start\\\">\\r\\n    <img src=\\\"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y\\\">\\r\\n  </ion-thumbnail>\\r\\n  <ion-label>\\r\\n    <h3>Pedido nº{{id}}</h3>\\r\\n    <p>Comprado el: {{createdAt | date:'dd/MM/yyyy - hh:mm'}}</p>\\r\\n    <div *ngIf=\\\"createdAt != updatedAt\\\">\\r\\n      <p>Modificado el: {{updatedAt | date:'dd/MM/yyyy - hh:mm'}}</p>\\r\\n    </div>\\r\\n    <p><strong>Total: </strong> EUR {{total}}</p>\\r\\n  </ion-label>\\r\\n</ion-item>\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Shopping History</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\" size-lg=\\\"12\\\" *ngFor=\\\"let order of orders\\\">\\r\\n        <app-order-card id=\\\"{{order.orderId}}\\\" total=\\\"{{order.total}}\\\" createdAt=\\\"{{order.createdAt}}\\\" updatedAt=\\\"{{order.updatedAt}}\\\"></app-order-card>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n\";"]}